PIO EQU 30H

ORG 1000H
LETRA DB "A"

ORG 2000H
CLI
MOV AL, 0FDH
OUT PIO+2, AL
MOV AL, 0
OUT PIO+3, AL
IN AL, PIO
AND AL, 0FDH
OUT PIO, AL
STI
MOV BX, OFFSET LETRA
POLL: IN AL, PIO
      AND AL, 1
      JNZ POLL
      MOV AL, [BX]
      OUT PIO+1, AL
      IN AL, PIO
      OR AL, 02H
      OUT PIO, AL
      IN AL, PIO
      AND AL, 0FDH
      OUT PIO, AL
      HLT
      END